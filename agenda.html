<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Agenda Escolar</title>
<style>
body {
    font-family: Arial, sans-serif;
    background-color: #334455;
    color: white;
    margin: 0;
    padding: 20px;
}
.header {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 15px;
    background-color: #1657a2;
    border-radius: 15px;
    margin-bottom: 20px;
}
.menu-icon {
    font-size: 24px;
    cursor: pointer;
}
.header h1 {
    margin: 0;
    font-size: 20px;
}
.agenda-section {
    background-color: #1a2b3c;
    padding: 20px;
    border-radius: 15px;
}
.agenda-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
}
.agenda-header h2 {
    margin: 0;
    font-size: 1.5em;
}
.agenda-item {
    background-color: #004080;
    padding: 15px;
    border-radius: 10px;
    margin-bottom: 10px;
    position: relative;
}
.delete-event {
    position: absolute;
    top: 5px;
    right: 10px;
    cursor: pointer;
    color: #f00;
    font-weight: bold;
}
.icon-plus {
    font-family: 'Arial', sans-serif;
    font-size: 24px;
    cursor: pointer;
}
#eventModal {
    display: none;
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.7);
    justify-content: center;
    align-items: center;
}
#eventModal div {
    background: #1a2b3c;
    padding: 20px;
    border-radius: 15px;
    width: 90%;
    max-width: 400px;
    color: white;
}
#eventModal input {
    width: 100%;
    padding: 8px;
    margin: 5px 0;
    border-radius: 5px;
    border: none;
}
#eventModal button {
    padding: 10px 20px;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    margin: 5px;
}
#saveEventBtn { background: #1657a2; color: white; }
#closeModalBtn { background: #555; color: white; }
</style>
</head>
<body>

<div class="header">
    <div class="menu-icon">☰</div>
    <h1>Mi Escuela</h1>
</div>

<div class="agenda-section">
    <div class="agenda-header">
        <h2>Agenda</h2>
        <span class="icon-plus">+</span>
    </div>
    <div id="eventsList"></div>
</div>

<div id="eventModal">
    <div>
        <h3 style="text-align:center;">Agregar Evento</h3>
        <label>Fecha y hora:</label>
        <input type="datetime-local" id="eventDateTime">
        <label>Materia:</label>
        <input type="text" id="eventSubject" placeholder="Ej: Matemática">
        <label>Link de Zoom:</label>
        <input type="text" id="eventLink" placeholder="https://...">
        <div style="text-align:center; margin-top:10px;">
            <button id="saveEventBtn">Guardar</button>
            <button id="closeModalBtn">Cancelar</button>
        </div>
    </div>
</div>

<script>
const eventsList = document.getElementById('eventsList');
const plusBtn = document.querySelector('.icon-plus');
const modal = document.getElementById('eventModal');
const closeModalBtn = document.getElementById('closeModalBtn');
const saveEventBtn = document.getElementById('saveEventBtn');
const eventDateTime = document.getElementById('eventDateTime');
const eventSubject = document.getElementById('eventSubject');
const eventLink = document.getElementById('eventLink');

let events = [];

function renderEvents() {
    eventsList.innerHTML = '';
    if(events.length === 0){
        const item = document.createElement('div');
        item.classList.add('agenda-item');
        item.textContent = "No hay eventos para este mes.";
        eventsList.appendChild(item);
        return;
    }
    events.forEach(event=>{
        const div = document.createElement('div');
        div.classList.add('agenda-item');
        div.innerHTML = `${event.dateTime} - ${event.subject} - <a href="${event.link}" target="_blank" style="color:#f0c300;">Zoom</a><span class="delete-event">×</span>`;
        div.querySelector('.delete-event').addEventListener('click', ()=>{
            events = events.filter(e=>e!==event);
            renderEvents();
        });
        eventsList.appendChild(div);
    });
}

plusBtn.addEventListener('click', ()=> modal.style.display='flex');
closeModalBtn.addEventListener('click', ()=>{
    modal.style.display='none';
    eventDateTime.value='';
    eventSubject.value='';
    eventLink.value='';
});
saveEventBtn.addEventListener('click', ()=>{
    if(!eventDateTime.value || !eventSubject.value || !eventLink.value){
        alert('Completa todos los campos');
        return;
    }
    events.push({
        dateTime:eventDateTime.value,
        subject:eventSubject.value,
        link:eventLink.value
    });
    modal.style.display='none';
    eventDateTime.value='';
    eventSubject.value='';
    eventLink.value='';
    renderEvents();
});

renderEvents();
</script>

</body>
</html>
